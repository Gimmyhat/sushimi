# Деплой проекта Sushimi на Vercel

Этот документ содержит инструкции по деплою проекта Sushimi на платформу Vercel.

## Предварительные требования

1. Аккаунт на [Vercel](https://vercel.com)
2. Установленный [Vercel CLI](https://vercel.com/cli)
3. База данных PostgreSQL (можно использовать [Supabase](https://supabase.com) или [Railway](https://railway.app))

## Шаги по деплою

### 1. Настройка базы данных

1. Создайте базу данных PostgreSQL на выбранной платформе
2. Запишите URL подключения к базе данных (формат: `postgresql://username:password@host:port/database`)
3. Инициализируйте базу данных с помощью скрипта:
   ```bash
   # Локально
   node scripts/manual-db-init.js --url=YOUR_DATABASE_URL
   ```

### 2. Настройка переменных окружения в Vercel

В панели управления Vercel создайте следующие переменные окружения:

- `DATABASE_URL`: URL подключения к вашей базе данных PostgreSQL
- `NEXT_PUBLIC_API_URL`: URL вашего API (обычно это URL вашего деплоя)

### 3. Деплой через Vercel CLI

```bash
# Авторизация в Vercel
vercel login

# Деплой проекта
vercel

# Для продакшен-деплоя
vercel --prod
```

### 4. Деплой через GitHub

1. Подключите ваш GitHub репозиторий к Vercel
2. Настройте автоматический деплой при пуше в ветку `master`
3. Настройте переменные окружения в панели управления Vercel

## Проверка деплоя

После успешного деплоя:

1. Откройте URL вашего проекта
2. Проверьте работу всех основных функций:
   - Просмотр меню
   - Добавление товаров в корзину
   - Оформление заказа
   - Применение промокодов

## Оптимизации для продакшена

В проекте уже реализованы следующие оптимизации:

1. Оптимизация управления состоянием корзины с использованием `useReducer`
2. Оптимизация загрузки изображений с использованием компонента `ProductImage`
3. Утилита `cn` для объединения классов Tailwind CSS

## Устранение проблем

Если возникают проблемы с деплоем:

1. Проверьте логи в панели управления Vercel
2. Убедитесь, что все переменные окружения настроены правильно
3. Проверьте доступность базы данных из Vercel

## Контакты для поддержки

При возникновении проблем с деплоем обратитесь к разработчику проекта. 