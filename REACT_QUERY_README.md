# Внедрение React Query

## Описание изменений

В этой ветке мы внедрили React Query для оптимизации работы с API и кэширования данных. Это позволило:

1. Упростить код компонентов, избавившись от ручного управления состоянием загрузки и ошибок
2. Автоматически кэшировать данные и избегать повторных запросов
3. Улучшить UX за счет автоматической обработки состояний загрузки и ошибок
4. Централизовать логику работы с API в хуках

## Основные изменения

1. Добавлен провайдер React Query в корневой layout
2. Созданы хуки для работы с API:
   - `useCategories` - получение категорий
   - `usePopularProducts` - получение популярных продуктов
   - `useProductsByCategory` - получение продуктов по категории
   - `usePromotions` - получение акций
   - `usePromoCode` - проверка промокода
   - `useCreateOrder` - создание заказа

3. Обновлены компоненты для использования новых хуков:
   - Главная страница
   - Страница меню
   - Страница корзины
   - Страница оформления заказа

## Преимущества

1. **Кэширование данных**: React Query автоматически кэширует результаты запросов, что уменьшает количество обращений к серверу
2. **Автоматическая обработка состояний**: Хуки предоставляют состояния `isLoading`, `isError`, `data` и другие
3. **Инвалидация кэша**: При мутациях (например, создании заказа) можно автоматически инвалидировать связанные данные
4. **Повторные попытки**: Автоматические повторные попытки при ошибках запросов
5. **Оптимистичные обновления**: Возможность обновлять UI до завершения запроса

## Дальнейшие улучшения

1. Добавить prefetching данных для улучшения UX
2. Реализовать оптимистичные обновления для корзины
3. Добавить обработку ошибок с отображением пользовательских сообщений
4. Настроить более гибкую стратегию кэширования для разных типов данных